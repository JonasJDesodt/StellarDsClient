@using StellarDsClient.Ui.Mvc.Controllers
@using System.Web
@model ListCreateEditViewModel

@{
    ViewData["Title"] = "Create list";
}

@if (Model.ErrorMessages is not null && Model.ErrorMessages.Count > 0)
{
    <partial name="_ErrorMessagesPartial" model="@Model.ErrorMessages" />
}
else
{
    <section class="content">
        <h2>@ViewData["Title"]</h2>

        <div class="buttons">
            <a 
                asp-controller="List" 
                asp-action="Index" 
                asp-all-route-data="@(HttpUtility.ParseQueryString(ViewData[nameof(ListController)] as string ?? "").ToDictionary())" 
                class="button">
                Overview
            </a>
        </div>

        <form method="post" enctype="multipart/form-data">
            <partial name="_CreateEditPartial" model="@Model.ListFormModel" />

            <div class="buttons">
                <button type="submit">Create</button>

                <a asp-controller="List" asp-action="Create" class="button warning">Clear</a>
            </div>
        </form>
    </section>
}